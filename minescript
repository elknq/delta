local MASTER_KEY = "daddy" 
local VALID_KEYS = {["0x1xxxxjwj"] = true, ["iloveyoudaddywallhan"] = true}

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()

-- Ù…ØªØºÙŠØ±Ø§Øª Wood Shield Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
local SavedCheckpoint = nil
local WoodShieldAngle = 0
local ActiveWoodShield = false
local WoodShieldConnection = nil
local ShieldParts = {} -- Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø®Ø´Ø¨ Ø§Ù„Ù…Ø³Ø­ÙˆØ¨
local ShieldAttachments = {} -- Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª

-- [[ Ø¯Ø§Ù„Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø±Ù‚ØµØ§Øª Ø§Ù„Ù…Ø¯Ù…Ø¬Ø© - Ø³ÙˆØ±Ø³ ÙƒÙˆØ¯ ÙƒØ§Ù…Ù„ ]]
local function OpenWallhanEmotes()
    local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
    ScreenGui.Name = "WallhanEmotesMenu"
    
    local MainFrame = Instance.new("Frame", ScreenGui)
    MainFrame.Size = UDim2.new(0, 400, 0, 320)
    MainFrame.Position = UDim2.new(0.5, -200, 0.5, -160)
    MainFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
    MainFrame.Active = true
    MainFrame.Draggable = true
    Instance.new("UICorner", MainFrame)
    local stroke = Instance.new("UIStroke", MainFrame)
    stroke.Color = Color3.fromRGB(200, 0, 0)
    stroke.Thickness = 2

    local Title = Instance.new("TextLabel", MainFrame)
    Title.Size = UDim2.new(1, 0, 0, 45)
    Title.Text = "ğŸ•º WALLHAN EMOTES ğŸ•º"
    Title.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
    Title.TextColor3 = Color3.new(1, 1, 1)
    Title.Font = Enum.Font.GothamBold
    Title.TextSize = 18
    Instance.new("UICorner", Title)

    local Scroll = Instance.new("ScrollingFrame", MainFrame)
    Scroll.Size = UDim2.new(1, -10, 1, -60)
    Scroll.Position = UDim2.new(0, 5, 0, 50)
    Scroll.BackgroundTransparency = 1
    Scroll.CanvasSize = UDim2.new(0, 0, 4, 0)
    local layout = Instance.new("UIGridLayout", Scroll)
    layout.CellSize = UDim2.new(0, 120, 0, 40)
    layout.Padding = UDim2.new(0, 8, 0, 8)

    -- Ù‚Ø§Ø¦Ù…Ø© IDs Ø§Ù„Ø±Ù‚ØµØ§Øª
    local emotes = {
        ["Griddy"] = 9606471821, ["Bugha"] = 7212401314, ["Billy"] = 3338340150,
        ["Dancin"] = 5103431709, ["Floss"] = 2825749343, ["Take The L"] = 2825729114,
        ["Default"] = 507771019, ["Robot"] = 507771955, ["Hype"] = 3696748324,
        ["Orange Justice"] = 3696756105, ["Best Mates"] = 3696761332
    }

    for name, id in pairs(emotes) do
        local btn = Instance.new("TextButton", Scroll)
        btn.Text = name
        btn.BackgroundColor3 = Color3.fromRGB(40, 0, 0)
        btn.TextColor3 = Color3.new(1, 1, 1)
        btn.Font = Enum.Font.GothamBold
        btn.TextSize = 12
        Instance.new("UICorner", btn)
        btn.MouseButton1Click:Connect(function()
            local anim = Instance.new("Animation")
            anim.AnimationId = "rbxassetid://"..id
            local load = LocalPlayer.Character.Humanoid:LoadAnimation(anim)
            load:Play()
        end)
    end

    local Close = Instance.new("TextButton", MainFrame)
    Close.Size = UDim2.new(0, 30, 0, 30)
    Close.Position = UDim2.new(1, -35, 0, 7)
    Close.Text = "X"
    Close.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    Close.TextColor3 = Color3.new(1, 1, 1)
    Close.MouseButton1Click:Connect(function() ScreenGui:Destroy() end)
end

-- ====================== ğŸŒªï¸ WOOD SHIELD Ø§Ù„Ù…Ø­Ø³Ù† ======================
local function EnableWoodShield()
    if ActiveWoodShield then return end
    ActiveWoodShield = true
    WoodShieldAngle = 0
    
    -- ØªÙ†Ø¸ÙŠÙ Ø£ÙŠ Ø¯Ø±Ø¹ Ù‚Ø¯ÙŠÙ…
    if WoodShieldConnection then
        WoodShieldConnection:Disconnect()
    end
    
    for _, part in pairs(ShieldParts) do
        if part then
            part:Destroy()
        end
    end
    
    for _, att in pairs(ShieldAttachments) do
        if att then
            att:Destroy()
        end
    end
    
    ShieldParts = {}
    ShieldAttachments = {}
    
    -- Ø¨Ø¯Ø¡ Ø§Ù„Ø¯Ø±Ø¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯
    WoodShieldConnection = RunService.Heartbeat:Connect(function()
        if not ActiveWoodShield or not LocalPlayer.Character then 
            if WoodShieldConnection then
                WoodShieldConnection:Disconnect()
            end
            return 
        end
        
        local hrp = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
        if not hrp then return end
        
        WoodShieldAngle = WoodShieldAngle + 0.04
        
        -- Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø®Ø´Ø¨ ÙÙŠ Ù…Ø§Ø¨ Ragdoll Engine
        for _, v in pairs(workspace:GetDescendants()) do
            if v:IsA("BasePart") and not v.Anchored and not v:IsDescendantOf(LocalPlayer.Character) 
               and not v.Parent:FindFirstChild("Humanoid") then
                
                -- ØªØ­Ø³ÙŠÙ† ÙƒØ´Ù Ø§Ù„Ø®Ø´Ø¨
                local isWood = false
                local woodName = v.Name:lower()
                
                if woodName:find("wood") then isWood = true
                elseif woodName:find("door") then isWood = true
                elseif woodName:find("plank") then isWood = true
                elseif woodName:find("log") then isWood = true
                elseif v.Material == Enum.Material.Wood then isWood = true
                elseif v.BrickColor == BrickColor.new("Reddish brown") then isWood = true
                elseif v.BrickColor == BrickColor.new("Brown") then isWood = true
                elseif v.BrickColor == BrickColor.new("Burnt Sienna") then isWood = true
                end
                
                if isWood and (v.Position - hrp.Position).Magnitude < 50 then
                    -- Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø®Ø´Ø¨ Ø¬Ø¯ÙŠØ¯ Ø£Ùˆ ÙÙ‚Ø¯Ù†Ø§Ù‡ Ø³Ø§Ø¨Ù‚Ø§Ù‹
                    if not ShieldParts[v] then
                        ShieldParts[v] = true
                        
                        -- ØªÙ†Ø¸ÙŠÙ Ø£ÙŠ BodyMovers Ù‚Ø¯ÙŠÙ…Ø©
                        for _, child in pairs(v:GetChildren()) do
                            if child:IsA("BodyMover") or child:IsA("AlignPosition") or child:IsA("Attachment") then
                                child:Destroy()
                            end
                        end
                    end
                    
                    -- Ø¥Ù†Ø´Ø§Ø¡ BodyPosition Ù‚ÙˆÙŠØ©
                    local bodyPos = Instance.new("BodyPosition")
                    bodyPos.Parent = v
                    bodyPos.MaxForce = Vector3.new(80000, 80000, 80000) -- Ù‚ÙˆØ© Ø¹Ø§Ù„ÙŠØ©
                    bodyPos.P = 20000 -- ØªØ­ÙƒÙ… Ø¯Ù‚ÙŠÙ‚
                    bodyPos.D = 1500 -- Ù…Ù†Ø¹ Ø§Ù„ØªØ°Ø¨Ø°Ø¨
                    
                    -- Ø­Ø³Ø§Ø¨ Ù…ÙˆÙ‚Ø¹ ÙÙŠ Ø¯Ø§Ø¦Ø±Ø©
                    local radius = 7 + math.sin(WoodShieldAngle * 2) * 1.5
                    local angleOffset = WoodShieldAngle
                    local x = math.cos(angleOffset) * radius
                    local z = math.sin(angleOffset) * radius
                    
                    -- Ù…Ø¹ Ø§Ø±ØªÙØ§Ø¹ Ù…ØªØºÙŠØ±
                    local y = 2 + math.sin(WoodShieldAngle * 3) * 0.5
                    
                    bodyPos.Position = hrp.Position + Vector3.new(x, y, z)
                    
                    -- Ø¥Ø¶Ø§ÙØ© Ù‚ÙˆØ© Ø·Ø±Ø¯ Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†
                    for _, player in pairs(Players:GetPlayers()) do
                        if player ~= LocalPlayer and player.Character then
                            local enemyHrp = player.Character:FindFirstChild("HumanoidRootPart")
                            if enemyHrp and (enemyHrp.Position - v.Position).Magnitude < 6 then
                                -- Ù‚ÙˆØ© Ø·Ø±Ø¯ Ù‚ÙˆÙŠØ©
                                local pushDirection = (enemyHrp.Position - v.Position).Unit
                                local pushForce = pushDirection * 120 + Vector3.new(0, 30, 0)
                                enemyHrp.Velocity = enemyHrp.Velocity + pushForce
                                
                                -- ØªØ£Ø«ÙŠØ± Ø¥Ø¶Ø§ÙÙŠ Ù„Ø¬Ø¹Ù„Ù‡Ù… ÙŠØ·ÙŠØ±ÙˆÙ†
                                enemyHrp.RotVelocity = Vector3.new(
                                    math.random(-50, 50),
                                    math.random(-50, 50),
                                    math.random(-50, 50)
                                )
                            end
                        end
                    end
                    
                    -- Ø¬Ø¹Ù„ Ø§Ù„Ø®Ø´Ø¨ Ø®ÙÙŠÙØ§Ù‹ ÙˆØ³Ù‡Ù„ Ø§Ù„Ø­Ø±ÙƒØ©
                    v.CustomPhysicalProperties = PhysicalProperties.new(0.3, 0.2, 0.3)
                    v.CanCollide = false
                    v.Massless = true
                    
                    -- Ø¥Ø¹Ø§Ø¯Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… BodyPosition ÙƒÙ„ 0.8 Ø«Ø§Ù†ÙŠØ©
                    game:GetService("Debris"):AddItem(bodyPos, 0.8)
                end
            end
        end
        
        -- Ø¥Ø¹Ø§Ø¯Ø© Ø¬Ø°Ø¨ Ø§Ù„Ø®Ø´Ø¨ Ø¥Ø°Ø§ Ø§Ø¨ØªØ¹Ø¯
        for woodPart, _ in pairs(ShieldParts) do
            if woodPart and woodPart.Parent then
                local distance = (woodPart.Position - hrp.Position).Magnitude
                if distance > 60 then
                    -- Ø¥Ø°Ø§ Ø§Ø¨ØªØ¹Ø¯ Ø§Ù„Ø®Ø´Ø¨ØŒ Ù†Ø¹ÙŠØ¯ Ø¬Ø°Ø¨Ù‡ Ø¨Ù‚ÙˆØ©
                    local bodyPos = Instance.new("BodyPosition")
                    bodyPos.Parent = woodPart
                    bodyPos.MaxForce = Vector3.new(100000, 100000, 100000)
                    bodyPos.Position = hrp.Position + Vector3.new(0, 5, 0)
                    bodyPos.P = 25000
                    
                    game:GetService("Debris"):AddItem(bodyPos, 0.5)
                end
            end
        end
    end)
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "ğŸŒªï¸ WOOD SHIELD",
        Text = "ACTIVATED - Stays with you permanently!",
        Duration = 3
    })
end

local function DisableWoodShield()
    ActiveWoodShield = false
    
    if WoodShieldConnection then
        WoodShieldConnection:Disconnect()
        WoodShieldConnection = nil
    end
    
    -- Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù„Ù„Ø®Ø´Ø¨
    for woodPart, _ in pairs(ShieldParts) do
        if woodPart and woodPart.Parent then
            woodPart.CustomPhysicalProperties = nil
            woodPart.CanCollide = true
            woodPart.Massless = false
        end
    end
    
    ShieldParts = {}
    ShieldAttachments = {}
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "ğŸŒªï¸ WOOD SHIELD",
        Text = "DEACTIVATED",
        Duration = 2
    })
end

-- ====================== ÙˆØ§Ø¬Ù‡Ø© TROLL FACE ======================
local function CreateTrollFaceUI()
    -- ØªØ¯Ù…ÙŠØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
    local oldUI = game.CoreGui:FindFirstChild("WallhanHub")
    if oldUI then oldUI:Destroy() end
    
    local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
    ScreenGui.Name = "TrollFaceHub"
    ScreenGui.ResetOnSpawn = false

    -- Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù…Ø¹ ØµÙˆØ±Ø© Troll Face
    local MainFrame = Instance.new("Frame", ScreenGui)
    MainFrame.Size = UDim2.new(0, 300, 0, 400)
    MainFrame.Position = UDim2.new(0.5, -150, 0.5, -200)
    MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    MainFrame.Active = true
    MainFrame.Draggable = true
    
    local corner = Instance.new("UICorner", MainFrame)
    corner.CornerRadius = UDim.new(0, 10)
    
    local stroke = Instance.new("UIStroke", MainFrame)
    stroke.Color = Color3.fromRGB(255, 215, 0) -- Ù„ÙˆÙ† Ø°Ù‡Ø¨ÙŠ
    stroke.Thickness = 3

    -- ØµÙˆØ±Ø© Troll Face (Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ù† Roblox)
    local TrollImage = Instance.new("ImageLabel", MainFrame)
    TrollImage.Size = UDim2.new(1, -20, 0, 150)
    TrollImage.Position = UDim2.new(0, 10, 0, 10)
    TrollImage.BackgroundTransparency = 1
    TrollImage.Image = "http://www.roblox.com/asset/?id=1260873262" -- Troll Face Ø§Ù„Ù…Ø´Ù‡ÙˆØ±
    TrollImage.ScaleType = Enum.ScaleType.Fit

    -- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ØªØ­Øª Ø§Ù„ØµÙˆØ±Ø©
    local Title = Instance.new("TextLabel", MainFrame)
    Title.Size = UDim2.new(1, 0, 0, 40)
    Title.Position = UDim2.new(0, 0, 0, 165)
    Title.Text = "ğŸ˜ˆ WALLHAN HUB ğŸ˜ˆ"
    Title.BackgroundColor3 = Color3.fromRGB(255, 215, 0)
    Title.TextColor3 = Color3.new(0, 0, 0)
    Title.Font = Enum.Font.GothamBold
    Title.TextSize = 16
    Title.TextStrokeTransparency = 0
    Title.TextStrokeColor3 = Color3.new(0, 0, 0)
    
    local titleCorner = Instance.new("UICorner", Title)
    titleCorner.CornerRadius = UDim.new(0, 8)

    -- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø²Ø±Ø§Ø±
    local ButtonFrame = Instance.new("ScrollingFrame", MainFrame)
    ButtonFrame.Size = UDim2.new(1, -20, 0, 170)
    ButtonFrame.Position = UDim2.new(0, 10, 0, 210)
    ButtonFrame.BackgroundTransparency = 1
    ButtonFrame.CanvasSize = UDim2.new(0, 0, 0, 350)
    ButtonFrame.ScrollBarThickness = 5
    
    local layout = Instance.new("UIListLayout", ButtonFrame)
    layout.Padding = UDim.new(0, 8)

    -- Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø£Ø²Ø±Ø§Ø± (Ù†ÙØ³ ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ø£ØµÙ„ÙŠ)
    local function CreateButton(text, callback, color)
        local btn = Instance.new("TextButton", ButtonFrame)
        btn.Size = UDim2.new(1, 0, 0, 35)
        btn.Text = text
        btn.BackgroundColor3 = color or Color3.fromRGB(50, 0, 0)
        btn.TextColor3 = Color3.new(1, 1, 1)
        btn.Font = Enum.Font.GothamBold
        btn.TextSize = 12
        
        local btnCorner = Instance.new("UICorner", btn)
        btnCorner.CornerRadius = UDim.new(0, 6)
        
        btn.MouseButton1Click:Connect(callback)
        
        return btn
    end

    -- Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ ØªÙˆÙ‚ÙØ§Øª (Ø¨Ù†ÙØ³ Ù…Ù†Ø·Ù‚ Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ø£ØµÙ„ÙŠ)
    local function CreateToggle(text, stateKey, enableFunc, disableFunc)
        local btn = Instance.new("TextButton", ButtonFrame)
        btn.Size = UDim2.new(1, 0, 0, 35)
        btn.Font = Enum.Font.GothamBold
        btn.TextSize = 12
        
        local function UpdateButton()
            if _G_States[stateKey] then
                btn.Text = text .. " [ON]"
                btn.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
            else
                btn.Text = text .. " [OFF]"
                btn.BackgroundColor3 = Color3.fromRGB(50, 0, 0)
            end
        end
        
        btn.MouseButton1Click:Connect(function()
            _G_States[stateKey] = not _G_States[stateKey]
            
            if _G_States[stateKey] then
                if enableFunc then enableFunc() end
            else
                if disableFunc then disableFunc() end
            end
            
            UpdateButton()
        end)
        
        UpdateButton()
        Instance.new("UICorner", btn)
        
        return btn
    end

    -- Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© (Ù†ÙØ³ Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ø£ØµÙ„ÙŠ)
    local _G_States = { ESP = false, Noclip = false, WoodShield = false, AntiFling = false }

    -- ====================== Ø§Ù„Ø£Ø²Ø±Ø§Ø± (Ù†ÙØ³ ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ø£ØµÙ„ÙŠ) ======================
    
    CreateButton("SET CHECKPOINT ğŸš©", function()
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
            SavedCheckpoint = LocalPlayer.Character.HumanoidRootPart.CFrame
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = "Wallhan Hub",
                Text = "Checkpoint Saved! âœ…",
                Duration = 3
            })
        end
    end, Color3.fromRGB(0, 100, 0))

    CreateButton("TP TO CHECKPOINT ğŸŒ€", function()
        if SavedCheckpoint and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
            LocalPlayer.Character.HumanoidRootPart.CFrame = SavedCheckpoint
        else
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = "Wallhan Hub",
                Text = "No Checkpoint Set! âŒ",
                Duration = 3
            })
        end
    end, Color3.fromRGB(0, 100, 0))

    CreateButton("RANDOM PLAYER TP ğŸ²", function()
        local plrs = Players:GetPlayers()
        local rP = plrs[math.random(1, #plrs)]
        if rP and rP ~= LocalPlayer and rP.Character then
            LocalPlayer.Character:SetPrimaryPartCFrame(rP.Character.HumanoidRootPart.CFrame + Vector3.new(0, 5, 0))
        end
    end, Color3.fromRGB(100, 0, 100))

    CreateButton("WALLHAN EMOTES ğŸ•º", OpenWallhanEmotes, Color3.fromRGB(100, 0, 100))

    CreateButton("GIVE TELEPORT TOOL ğŸ“", function()
        local tp = Instance.new("Tool", LocalPlayer.Backpack)
        tp.Name, tp.RequiresHandle = "Wallhan TP ğŸ“", false
        tp.Activated:Connect(function() 
            if LocalPlayer.Character and Mouse.Hit then
                LocalPlayer.Character:MoveTo(Mouse.Hit.p)
            end
        end)
    end, Color3.fromRGB(0, 0, 100))

    -- Ø§Ù„ØªÙˆÙ‚ÙØ§Øª Ù…Ø¹ Ø¯ÙˆØ§Ù„ Wood Shield Ø§Ù„Ù…Ø­Ø³Ù†Ø©
    CreateToggle("ULTIMATE ANTI-FLING ğŸ›¡ï¸", "AntiFling", 
        function()
            RunService.Heartbeat:Connect(function()
                if _G_States.AntiFling and LocalPlayer.Character then
                    local hrp = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                    if hrp and hrp.AssemblyLinearVelocity.Magnitude > 100 then
                        hrp.Velocity = Vector3.new(0, 0, 0)
                        hrp.RotVelocity = Vector3.new(0, 0, 0)
                    end
                end
            end)
        end,
        function() end
    )
    
    CreateToggle("WOOD SHIELD ğŸŒªï¸", "WoodShield", EnableWoodShield, DisableWoodShield)
    
    CreateToggle("BOX ESP + NAMES ğŸ‘ï¸", "ESP", 
        function()
            _G_States.ESP = true
            
            local function CreateESP(player)
                if player == LocalPlayer or not player.Character then return end
                
                local char = player.Character
                local head = char:WaitForChild("Head", 2)
                if not head then return end
                
                -- Box ESP (Ø£Ø­Ù…Ø± ÙÙ‚Ø· ÙƒÙ…Ø§ Ø·Ù„Ø¨Øª)
                local box = Instance.new("BoxHandleAdornment")
                box.Name = "BoxESP"
                box.Adornee = char
                box.AlwaysOnTop = true
                box.Size = char:GetExtentsSize()
                box.Color3 = Color3.new(1, 0, 0) -- Ø£Ø­Ù…Ø±
                box.Transparency = 0.6
                box.ZIndex = 10
                box.Parent = char
                
                -- Name Tag (Ø£Ø­Ù…Ø± ÙÙ‚Ø·)
                local billboard = Instance.new("BillboardGui")
                billboard.Name = "NameESP"
                billboard.Size = UDim2.new(0, 100, 0, 50)
                billboard.AlwaysOnTop = true
                billboard.StudsOffset = Vector3.new(0, 3.5, 0)
                billboard.Adornee = head
                billboard.Parent = char
                
                local textLabel = Instance.new("TextLabel", billboard)
                textLabel.Size = UDim2.new(1, 0, 1, 0)
                textLabel.BackgroundTransparency = 1
                textLabel.Text = player.Name
                textLabel.TextColor3 = Color3.new(1, 0, 0) -- Ø£Ø­Ù…Ø±
                textLabel.TextStrokeTransparency = 0
                textLabel.TextStrokeColor3 = Color3.new(0, 0, 0)
                textLabel.Font = Enum.Font.GothamBold
                textLabel.TextSize = 14
                Instance.new("UIStroke", textLabel).Thickness = 1
            end
            
            for _, player in pairs(Players:GetPlayers()) do
                CreateESP(player)
            end
            
            Players.PlayerAdded:Connect(CreateESP)
        end,
        function()
            _G_States.ESP = false
            
            for _, player in pairs(Players:GetPlayers()) do
                if player.Character then
                    local box = player.Character:FindFirstChild("BoxESP")
                    local nameTag = player.Character:FindFirstChild("NameESP")
                    
                    if box then box:Destroy() end
                    if nameTag then nameTag:Destroy() end
                end
            end
        end
    )
    
    CreateToggle("NOCLIP ğŸ§±", "Noclip", 
        function()
            _G_States.Noclip = true
            
            local noclipConnection
            noclipConnection = RunService.Stepped:Connect(function()
                if not _G_States.Noclip or not LocalPlayer.Character then 
                    noclipConnection:Disconnect()
                    return 
                end
                
                for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = false
                    end
                end
            end)
        end,
        function()
            _G_States.Noclip = false
        end
    )

    -- Ø²Ø± Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
    local CloseButton = Instance.new("TextButton", MainFrame)
    CloseButton.Size = UDim2.new(0, 80, 0, 30)
    CloseButton.Position = UDim2.new(0.5, -40, 1, -35)
    CloseButton.Text = "âŒ CLOSE"
    CloseButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    CloseButton.TextColor3 = Color3.new(1, 1, 1)
    CloseButton.Font = Enum.Font.GothamBold
    CloseButton.TextSize = 14
    Instance.new("UICorner", CloseButton)
    
    CloseButton.MouseButton1Click:Connect(function()
        ScreenGui:Destroy()
    end)

    -- Ø²Ø± ØµØºÙŠØ± Ù„Ø¥Ø¹Ø§Ø¯Ø© ÙØªØ­ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
    local ToggleButton = Instance.new("TextButton", ScreenGui)
    ToggleButton.Size = UDim2.new(0, 50, 0, 50)
    ToggleButton.Position = UDim2.new(0, 20, 0, 20)
    ToggleButton.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    ToggleButton.BackgroundTransparency = 0.2
    ToggleButton.Text = "ğŸ˜ˆ"
    ToggleButton.TextColor3 = Color3.fromRGB(255, 215, 0)
    ToggleButton.Font = Enum.Font.GothamBold
    ToggleButton.TextSize = 24
    ToggleButton.Draggable = true
    
    local toggleCorner = Instance.new("UICorner", ToggleButton)
    toggleCorner.CornerRadius = UDim.new(1, 0)
    
    local toggleStroke = Instance.new("UIStroke", ToggleButton)
    toggleStroke.Color = Color3.fromRGB(255, 215, 0)
    toggleStroke.Thickness = 2
    
    ToggleButton.MouseButton1Click:Connect(function()
        MainFrame.Visible = not MainFrame.Visible
        ToggleButton.Text = MainFrame.Visible and "ğŸ˜ˆ" or "ğŸ®"
    end)
end

-- ====================== Ø¨Ø¯Ø¡ Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ù…Ø¨Ø§Ø´Ø±Ø© ======================
-- Ø¨Ø¯ÙˆÙ† ÙˆØ§Ø¬Ù‡Ø© Ø¯Ø®ÙˆÙ„ØŒ Ø¨Ø¯ÙˆÙ† Ù…ÙØ§ØªÙŠØ­ØŒ Ù…Ø¨Ø§Ø´Ø±Ø© Troll Face
CreateTrollFaceUI()

-- Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ø¨Ø¯Ø¡
game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "ğŸ˜ˆ WALLHAN HUB",
    Text = "Troll Face Version Loaded!",
    Duration = 4
})
